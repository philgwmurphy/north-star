<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRON | Strength Training System</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=JetBrains+Mono:wght@400;600&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0a0b;
            --bg-surface: #141416;
            --bg-elevated: #1c1c1f;
            --bg-hover: #242428;
            --accent-primary: #ff4d4d;
            --accent-secondary: #ff8a4d;
            --accent-gradient: linear-gradient(135deg, #ff4d4d 0%, #ff8a4d 100%);
            --text-primary: #ffffff;
            --text-secondary: #a0a0a5;
            --text-muted: #6b6b70;
            --border-subtle: rgba(255, 255, 255, 0.08);
            --border-active: rgba(255, 77, 77, 0.4);
            --success: #22c55e;
            --warning: #fbbf24;
            --radius-sm: 6px;
            --radius-md: 12px;
            --radius-lg: 20px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Space Grotesk', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
        }
        .bg-pattern {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(255, 77, 77, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 138, 77, 0.03) 0%, transparent 50%);
            pointer-events: none;
        }
        .bg-grid {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            pointer-events: none;
        }
        header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(10, 10, 11, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-subtle);
        }
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .logo-icon {
            width: 48px;
            height: 48px;
            background: var(--accent-gradient);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        .logo-text {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 32px;
            letter-spacing: 4px;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .nav-tabs {
            display: flex;
            gap: 4px;
            background: var(--bg-surface);
            padding: 4px;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-subtle);
        }
        .nav-tab {
            padding: 12px 24px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-family: inherit;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            border-radius: var(--radius-md);
            transition: all 0.3s ease;
        }
        .nav-tab:hover { color: var(--text-primary); background: var(--bg-hover); }
        .nav-tab.active {
            background: var(--accent-gradient);
            color: white;
        }
        main {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 24px;
        }
        .tab-content { display: none; animation: fadeIn 0.4s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .section-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 48px;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }
        .section-subtitle { color: var(--text-secondary); font-size: 16px; margin-bottom: 32px; }
        .rm-calculator {
            background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-elevated) 100%);
            border: 2px solid var(--border-active);
            border-radius: var(--radius-lg);
            padding: 32px;
            margin-bottom: 40px;
        }
        .rm-calculator h2 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 36px;
            letter-spacing: 2px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .rm-calculator h2 span {
            font-size: 14px;
            font-family: 'Space Grotesk', sans-serif;
            background: var(--accent-gradient);
            padding: 4px 12px;
            border-radius: 20px;
            letter-spacing: 0;
        }
        .rm-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 24px;
        }
        @media (max-width: 1000px) { .rm-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 600px) { .rm-grid { grid-template-columns: 1fr; } }
        .rm-lift {
            background: var(--bg-dark);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            padding: 20px;
        }
        .rm-lift-name {
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .rm-lift-icon {
            width: 36px;
            height: 36px;
            background: var(--bg-elevated);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        .rm-inputs { display: flex; gap: 8px; margin-bottom: 12px; }
        .rm-input-group { flex: 1; }
        .rm-input-group label {
            display: block;
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 6px;
        }
        .rm-input-group input {
            width: 100%;
            padding: 12px;
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 16px;
        }
        .rm-input-group input:focus {
            outline: none;
            border-color: var(--accent-primary);
        }
        .rm-result {
            background: var(--bg-surface);
            border-radius: var(--radius-sm);
            padding: 12px;
            text-align: center;
        }
        .rm-result-label {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .rm-result-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 32px;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .btn-save-rms {
            width: 100%;
            margin-top: 24px;
            padding: 16px 32px;
            background: var(--accent-gradient);
            border: none;
            border-radius: var(--radius-md);
            color: white;
            font-family: inherit;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-save-rms:hover { transform: translateY(-2px); }
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }
        @media (max-width: 1200px) { .grid-3, .grid-4 { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .grid-3, .grid-2, .grid-4 { grid-template-columns: 1fr; } .nav-tabs { display: none; } .mobile-nav { display: flex !important; } }
        .program-card {
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .program-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 4px;
            background: var(--accent-gradient);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }
        .program-card:hover::before, .program-card.selected::before { transform: scaleX(1); }
        .program-card:hover {
            border-color: var(--border-active);
            transform: translateY(-4px);
        }
        .program-card.selected {
            border-color: var(--accent-primary);
            background: linear-gradient(135deg, var(--bg-surface) 0%, rgba(255, 77, 77, 0.05) 100%);
        }
        .program-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        .program-name { font-size: 22px; font-weight: 700; }
        .program-tag {
            padding: 4px 10px;
            background: var(--bg-elevated);
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        .program-tag.beginner { background: rgba(34, 197, 94, 0.2); color: #22c55e; }
        .program-tag.intermediate { background: rgba(251, 191, 36, 0.2); color: #fbbf24; }
        .program-tag.advanced { background: rgba(255, 77, 77, 0.2); color: #ff4d4d; }
        .program-desc { color: var(--text-secondary); font-size: 14px; line-height: 1.6; margin-bottom: 20px; }
        .program-meta { display: flex; gap: 20px; padding-top: 16px; border-top: 1px solid var(--border-subtle); }
        .program-meta-item { display: flex; flex-direction: column; gap: 4px; }
        .program-meta-label { font-size: 11px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
        .program-meta-value { font-weight: 700; }
        .btn-select { width: 100%; margin-top: 20px; padding: 14px; background: var(--bg-elevated); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); color: var(--text-primary); font-family: inherit; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
        .btn-select:hover { background: var(--accent-gradient); border-color: transparent; }
        .program-card.selected .btn-select { background: var(--accent-gradient); border-color: transparent; }
        .workout-day {
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin-bottom: 20px;
        }
        .workout-day-header {
            background: var(--bg-elevated);
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-subtle);
        }
        .workout-day-name { font-weight: 700; font-size: 18px; }
        .workout-day-focus { font-size: 12px; color: var(--text-secondary); background: var(--bg-dark); padding: 6px 12px; border-radius: 20px; }
        .workout-exercises { padding: 20px; }
        .exercise-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--border-subtle); }
        .exercise-row:last-child { border-bottom: none; }
        .exercise-name { font-weight: 600; }
        .exercise-details { display: flex; gap: 16px; align-items: center; }
        .exercise-weight { font-family: 'JetBrains Mono', monospace; background: var(--bg-dark); padding: 6px 12px; border-radius: var(--radius-sm); font-size: 14px; }
        .exercise-sets { color: var(--text-secondary); font-size: 14px; }
        .btn-log { width: 100%; margin-top: 16px; padding: 14px; background: var(--accent-gradient); border: none; border-radius: var(--radius-md); color: white; font-family: inherit; font-size: 14px; font-weight: 600; cursor: pointer; }
        .btn-log:hover { transform: translateY(-2px); }
        .current-program-banner {
            background: linear-gradient(135deg, var(--bg-surface) 0%, rgba(255, 77, 77, 0.1) 100%);
            border: 1px solid var(--border-active);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-bottom: 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        .current-program-info h3 { font-size: 14px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; }
        .current-program-name { font-family: 'Bebas Neue', sans-serif; font-size: 32px; letter-spacing: 1px; }
        .training-maxes { display: flex; gap: 24px; flex-wrap: wrap; }
        .tm-item { text-align: center; }
        .tm-lift { font-size: 11px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
        .tm-value { font-family: 'JetBrains Mono', monospace; font-size: 20px; font-weight: 600; }
        .stat-card { background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); padding: 24px; text-align: center; }
        .stat-icon { width: 48px; height: 48px; margin: 0 auto 16px; background: var(--bg-elevated); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; font-size: 24px; }
        .stat-value { font-family: 'Bebas Neue', sans-serif; font-size: 48px; background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .stat-label { color: var(--text-secondary); font-size: 14px; margin-top: 4px; }
        .log-entry { background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); padding: 20px; margin-bottom: 16px; display: grid; grid-template-columns: auto 1fr auto; gap: 20px; align-items: center; }
        .log-entry:hover { border-color: var(--border-active); }
        .log-date { text-align: center; padding: 12px 16px; background: var(--bg-dark); border-radius: var(--radius-md); min-width: 80px; }
        .log-date-day { font-family: 'Bebas Neue', sans-serif; font-size: 28px; }
        .log-date-month { font-size: 12px; color: var(--text-secondary); text-transform: uppercase; }
        .log-content h4 { font-size: 18px; margin-bottom: 8px; }
        .log-details { display: flex; gap: 24px; color: var(--text-secondary); font-size: 14px; flex-wrap: wrap; }
        .log-actions { display: flex; gap: 8px; }
        .btn-icon { width: 40px; height: 40px; border: 1px solid var(--border-subtle); background: var(--bg-elevated); border-radius: var(--radius-sm); color: var(--text-secondary); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 18px; }
        .btn-icon:hover { border-color: var(--accent-primary); color: var(--accent-primary); }
        .btn-icon.delete:hover { border-color: #ef4444; color: #ef4444; }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(8px); z-index: 1000; align-items: center; justify-content: center; }
        .modal-overlay.active { display: flex; }
        .modal { background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); width: 90%; max-width: 500px; max-height: 90vh; overflow-y: auto; animation: modalIn 0.3s ease; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .modal-header { padding: 24px; border-bottom: 1px solid var(--border-subtle); display: flex; justify-content: space-between; align-items: center; }
        .modal-title { font-family: 'Bebas Neue', sans-serif; font-size: 28px; letter-spacing: 1px; }
        .modal-close { width: 40px; height: 40px; background: var(--bg-elevated); border: none; border-radius: var(--radius-sm); color: var(--text-secondary); font-size: 24px; cursor: pointer; }
        .modal-close:hover { color: var(--accent-primary); }
        .modal-body { padding: 24px; }
        .form-group { margin-bottom: 20px; }
        .form-label { display: block; font-size: 12px; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
        .form-input, .form-select, .form-textarea { width: 100%; padding: 14px 16px; background: var(--bg-dark); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); color: var(--text-primary); font-family: inherit; font-size: 16px; }
        .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: var(--accent-primary); }
        .form-textarea { resize: vertical; min-height: 100px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        .btn-submit { width: 100%; padding: 16px; background: var(--accent-gradient); border: none; border-radius: var(--radius-md); color: white; font-family: inherit; font-size: 16px; font-weight: 700; cursor: pointer; }
        .btn-submit:hover { transform: translateY(-2px); }
        .toast { position: fixed; bottom: 24px; right: 24px; background: var(--bg-elevated); border: 1px solid var(--success); border-radius: var(--radius-md); padding: 16px 24px; display: flex; align-items: center; gap: 12px; z-index: 1001; transform: translateX(120%); transition: transform 0.3s ease; }
        .toast.show { transform: translateX(0); }
        .toast-icon { width: 24px; height: 24px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; }
        .empty-state { text-align: center; padding: 60px 20px; color: var(--text-secondary); }
        .empty-state-icon { font-size: 64px; margin-bottom: 16px; opacity: 0.5; }
        .empty-state h3 { font-size: 20px; color: var(--text-primary); margin-bottom: 8px; }
        .mobile-nav { display: none; position: fixed; bottom: 0; left: 0; width: 100%; background: var(--bg-surface); border-top: 1px solid var(--border-subtle); padding: 8px; z-index: 100; justify-content: space-around; }
        .mobile-nav-btn { flex: 1; padding: 12px 8px; background: transparent; border: none; color: var(--text-secondary); font-size: 11px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 4px; border-radius: var(--radius-sm); }
        .mobile-nav-btn.active { color: var(--accent-primary); background: rgba(255, 77, 77, 0.1); }
        .mobile-nav-btn svg { width: 24px; height: 24px; }
        .exercise-metrics { background: var(--bg-surface); border: 1px solid var(--border-subtle); border-radius: var(--radius-lg); padding: 24px; margin-bottom: 20px; }
        .exercise-metrics h4 { font-size: 18px; margin-bottom: 16px; display: flex; align-items: center; gap: 10px; }
        .metrics-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
        @media (max-width: 768px) { .metrics-grid { grid-template-columns: repeat(2, 1fr); } main { padding-bottom: 100px; } .log-entry { grid-template-columns: 1fr; } .form-row { grid-template-columns: 1fr; } }
        .metric-box { background: var(--bg-dark); border-radius: var(--radius-md); padding: 16px; text-align: center; }
        .metric-value { font-family: 'Bebas Neue', sans-serif; font-size: 28px; color: var(--accent-primary); }
        .metric-label { font-size: 11px; color: var(--text-muted); text-transform: uppercase; margin-top: 4px; }
        .week-selector { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; }
        .week-selector button { padding: 10px 20px; background: var(--bg-elevated); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); color: var(--text-primary); font-family: inherit; cursor: pointer; }
        .week-selector button:hover { border-color: var(--accent-primary); }
        .week-selector span { font-family: 'JetBrains Mono', monospace; font-size: 18px; }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div class="bg-grid"></div>
    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">üèãÔ∏è</div>
                <span class="logo-text">IRON</span>
            </div>
            <nav class="nav-tabs">
                <button class="nav-tab active" data-tab="programs">Programs</button>
                <button class="nav-tab" data-tab="workouts">Workouts</button>
                <button class="nav-tab" data-tab="logs">Logs</button>
                <button class="nav-tab" data-tab="metrics">Metrics</button>
            </nav>
        </div>
    </header>
    <main>
        <div id="programs" class="tab-content active">
            <h1 class="section-title">SET UP YOUR TRAINING</h1>
            <p class="section-subtitle">Enter your rep maxes and select a proven strength program</p>
            <div class="rm-calculator">
                <h2>CALCULATE YOUR 1RM <span>STEP 1</span></h2>
                <p style="color: var(--text-secondary); margin-bottom: 0;">Enter a recent lift weight and reps to calculate your estimated one-rep max.</p>
                <div class="rm-grid">
                    <div class="rm-lift">
                        <div class="rm-lift-name"><div class="rm-lift-icon">ü¶µ</div> Squat</div>
                        <div class="rm-inputs">
                            <div class="rm-input-group"><label>Weight (lbs)</label><input type="number" id="squat-weight" placeholder="285" step="5" oninput="updateRM('squat')"></div>
                            <div class="rm-input-group"><label>Reps</label><input type="number" id="squat-reps" placeholder="5" value="5" oninput="updateRM('squat')"></div>
                        </div>
                        <div class="rm-result"><div class="rm-result-label">Est. 1RM</div><div class="rm-result-value" id="squat-1rm">‚Äî</div></div>
                    </div>
                    <div class="rm-lift">
                        <div class="rm-lift-name"><div class="rm-lift-icon">üèãÔ∏è</div> Bench Press</div>
                        <div class="rm-inputs">
                            <div class="rm-input-group"><label>Weight (lbs)</label><input type="number" id="bench-weight" placeholder="185" step="5" oninput="updateRM('bench')"></div>
                            <div class="rm-input-group"><label>Reps</label><input type="number" id="bench-reps" placeholder="5" value="5" oninput="updateRM('bench')"></div>
                        </div>
                        <div class="rm-result"><div class="rm-result-label">Est. 1RM</div><div class="rm-result-value" id="bench-1rm">‚Äî</div></div>
                    </div>
                    <div class="rm-lift">
                        <div class="rm-lift-name"><div class="rm-lift-icon">üí™</div> Deadlift</div>
                        <div class="rm-inputs">
                            <div class="rm-input-group"><label>Weight (lbs)</label><input type="number" id="deadlift-weight" placeholder="315" step="5" oninput="updateRM('deadlift')"></div>
                            <div class="rm-input-group"><label>Reps</label><input type="number" id="deadlift-reps" placeholder="5" value="5" oninput="updateRM('deadlift')"></div>
                        </div>
                        <div class="rm-result"><div class="rm-result-label">Est. 1RM</div><div class="rm-result-value" id="deadlift-1rm">‚Äî</div></div>
                    </div>
                    <div class="rm-lift">
                        <div class="rm-lift-name"><div class="rm-lift-icon">üôÜ</div> Overhead Press</div>
                        <div class="rm-inputs">
                            <div class="rm-input-group"><label>Weight (lbs)</label><input type="number" id="ohp-weight" placeholder="115" step="5" oninput="updateRM('ohp')"></div>
                            <div class="rm-input-group"><label>Reps</label><input type="number" id="ohp-reps" placeholder="5" value="5" oninput="updateRM('ohp')"></div>
                        </div>
                        <div class="rm-result"><div class="rm-result-label">Est. 1RM</div><div class="rm-result-value" id="ohp-1rm">‚Äî</div></div>
                    </div>
                </div>
                <button class="btn-save-rms" onclick="saveRepMaxes()">üíæ Save 1RMs & Continue to Programs</button>
            </div>
            <h2 class="section-title" style="font-size: 36px;">SELECT YOUR PROGRAM <span style="font-family: 'Space Grotesk'; font-size: 14px; background: var(--accent-gradient); padding: 4px 12px; border-radius: 20px; margin-left: 12px;">STEP 2</span></h2>
            <div class="grid-3" id="program-grid"></div>
        </div>
        <div id="workouts" class="tab-content">
            <h1 class="section-title">TODAY'S WORKOUT</h1>
            <p class="section-subtitle">Follow your program and log your lifts</p>
            <div id="no-program" class="empty-state"><div class="empty-state-icon">üìã</div><h3>No Program Selected</h3><p>Head to Programs tab to set up your training</p></div>
            <div id="workout-section" style="display: none;">
                <div class="current-program-banner" id="program-banner"></div>
                <div id="week-selector-container"></div>
                <div id="workout-days"></div>
                <button class="btn-log" style="margin-top: 32px; max-width: 400px;" onclick="openModal()">‚ûï Log Custom Workout</button>
            </div>
        </div>
        <div id="logs" class="tab-content">
            <h1 class="section-title">WORKOUT HISTORY</h1>
            <p class="section-subtitle">Track your progress over time</p>
            <div style="margin-bottom: 24px;"><input type="text" class="form-input" id="search-logs" placeholder="üîç Search workouts..." style="max-width: 400px;" oninput="renderLogs()"></div>
            <div id="logs-list"></div>
        </div>
        <div id="metrics" class="tab-content">
            <h1 class="section-title">PERFORMANCE METRICS</h1>
            <p class="section-subtitle">Analyze your training data</p>
            <div class="grid-4" id="stats-grid"></div>
            <div style="margin-top: 32px;" id="exercise-metrics"></div>
        </div>
    </main>
    <nav class="mobile-nav">
        <button class="mobile-nav-btn active" data-tab="programs"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>Programs</button>
        <button class="mobile-nav-btn" data-tab="workouts"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 9h6M9 12h6M9 15h6"/></svg>Workouts</button>
        <button class="mobile-nav-btn" data-tab="logs"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/></svg>Logs</button>
        <button class="mobile-nav-btn" data-tab="metrics"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 20V10M12 20V4M6 20v-6"/></svg>Metrics</button>
    </nav>
    <div class="modal-overlay" id="log-modal">
        <div class="modal">
            <div class="modal-header"><h2 class="modal-title">LOG WORKOUT</h2><button class="modal-close" onclick="closeModal()">√ó</button></div>
            <div class="modal-body">
                <form id="log-form" onsubmit="submitLog(event)">
                    <div class="form-group"><label class="form-label">Exercise</label><select class="form-select" id="log-exercise" required><option value="">Select exercise...</option><option value="Squat">Squat</option><option value="Bench Press">Bench Press</option><option value="Deadlift">Deadlift</option><option value="Overhead Press">Overhead Press</option><option value="Barbell Row">Barbell Row</option><option value="Front Squat">Front Squat</option><option value="Sumo Deadlift">Sumo Deadlift</option><option value="Close Grip Bench">Close Grip Bench</option><option value="Incline Bench">Incline Bench</option><option value="Romanian Deadlift">Romanian Deadlift</option><option value="Pull-ups">Pull-ups</option><option value="Chin-ups">Chin-ups</option><option value="Lat Pulldown">Lat Pulldown</option><option value="Dumbbell Row">Dumbbell Row</option><option value="Face Pulls">Face Pulls</option><option value="Leg Press">Leg Press</option><option value="Leg Curls">Leg Curls</option><option value="Calf Raises">Calf Raises</option><option value="Bicep Curls">Bicep Curls</option><option value="Tricep Pushdowns">Tricep Pushdowns</option><option value="Lateral Raises">Lateral Raises</option></select></div>
                    <div class="form-row"><div class="form-group"><label class="form-label">Weight (lbs)</label><input type="number" class="form-input" id="log-weight" step="2.5" required placeholder="225"></div><div class="form-group"><label class="form-label">Reps</label><input type="number" class="form-input" id="log-reps" required placeholder="5"></div></div>
                    <div class="form-group"><label class="form-label">Sets</label><input type="number" class="form-input" id="log-sets" required value="3" placeholder="3"></div>
                    <div class="form-group"><label class="form-label">RPE (optional)</label><select class="form-select" id="log-rpe"><option value="">Select RPE...</option><option value="6">6 - Could do 4+ more</option><option value="7">7 - Could do 3 more</option><option value="8">8 - Could do 2 more</option><option value="9">9 - Could do 1 more</option><option value="10">10 - Maximum effort</option></select></div>
                    <div class="form-group"><label class="form-label">Notes</label><textarea class="form-textarea" id="log-notes" placeholder="How did it feel?"></textarea></div>
                    <button type="submit" class="btn-submit">üíæ Save Workout</button>
                </form>
            </div>
        </div>
    </div>
    <div class="toast" id="toast"><div class="toast-icon">‚úì</div><span id="toast-message">Saved!</span></div>
    <script>
        const state = {
            repMaxes: JSON.parse(localStorage.getItem('ironRepMaxes')) || null,
            selectedProgram: localStorage.getItem('ironSelectedProgram') || null,
            workoutLogs: JSON.parse(localStorage.getItem('ironWorkoutLogs')) || [],
            currentWeek: parseInt(localStorage.getItem('ironCurrentWeek')) || 1
        };
        const programs = {
            '531': { name: "Wendler's 5/3/1", level: 'intermediate', daysPerWeek: 4, cycleLength: '4 weeks', description: 'The classic periodized strength program. Slow, steady progress with built-in deload weeks. Uses training maxes at 90% for sustainable gains.', getWorkouts: (maxes, week = 1) => { const tm = { squat: Math.round(maxes.squat * 0.9 / 5) * 5, bench: Math.round(maxes.bench * 0.9 / 5) * 5, deadlift: Math.round(maxes.deadlift * 0.9 / 5) * 5, ohp: Math.round(maxes.ohp * 0.9 / 5) * 5 }; const schemes = { 1: { name: '5/5/5+', pcts: [0.65, 0.75, 0.85], reps: [5, 5, '5+'] }, 2: { name: '3/3/3+', pcts: [0.70, 0.80, 0.90], reps: [3, 3, '3+'] }, 3: { name: '5/3/1+', pcts: [0.75, 0.85, 0.95], reps: [5, 3, '1+'] }, 4: { name: 'Deload', pcts: [0.40, 0.50, 0.60], reps: [5, 5, 5] } }; const s = schemes[week]; return [{ day: 'Day 1', focus: 'Squat', exercises: [{ name: 'Squat', sets: s.pcts.map((p, i) => ({ weight: Math.round(tm.squat * p / 5) * 5, reps: s.reps[i] })) }, { name: 'Leg Press', sets: '3x10' }, { name: 'Leg Curls', sets: '3x10' }] }, { day: 'Day 2', focus: 'Bench', exercises: [{ name: 'Bench Press', sets: s.pcts.map((p, i) => ({ weight: Math.round(tm.bench * p / 5) * 5, reps: s.reps[i] })) }, { name: 'Dumbbell Row', sets: '5x10' }, { name: 'Tricep Pushdowns', sets: '3x15' }] }, { day: 'Day 3', focus: 'Deadlift', exercises: [{ name: 'Deadlift', sets: s.pcts.map((p, i) => ({ weight: Math.round(tm.deadlift * p / 5) * 5, reps: s.reps[i] })) }, { name: 'Good Mornings', sets: '3x10' }, { name: 'Hanging Leg Raises', sets: '3x15' }] }, { day: 'Day 4', focus: 'OHP', exercises: [{ name: 'Overhead Press', sets: s.pcts.map((p, i) => ({ weight: Math.round(tm.ohp * p / 5) * 5, reps: s.reps[i] })) }, { name: 'Chin-ups', sets: '5x5' }, { name: 'Face Pulls', sets: '3x20' }] }]; } },
            'nsuns': { name: 'nSuns 5/3/1 LP', level: 'intermediate', daysPerWeek: 5, cycleLength: '1 week', description: 'High volume linear progression based on 5/3/1. Weekly weight increases based on AMRAP performance.', getWorkouts: (maxes) => { const tm = { squat: Math.round(maxes.squat * 0.9 / 5) * 5, bench: Math.round(maxes.bench * 0.9 / 5) * 5, deadlift: Math.round(maxes.deadlift * 0.9 / 5) * 5, ohp: Math.round(maxes.ohp * 0.9 / 5) * 5 }; return [{ day: 'Monday', focus: 'Bench/OHP', exercises: [{ name: 'Bench (T1)', sets: [{ weight: Math.round(tm.bench * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.bench * 0.85 / 5) * 5, reps: 3 }, { weight: Math.round(tm.bench * 0.95 / 5) * 5, reps: '1+' }, { weight: Math.round(tm.bench * 0.90 / 5) * 5, reps: 3 }, { weight: Math.round(tm.bench * 0.85 / 5) * 5, reps: 3 }, { weight: Math.round(tm.bench * 0.80 / 5) * 5, reps: 3 }, { weight: Math.round(tm.bench * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.bench * 0.70 / 5) * 5, reps: 5 }, { weight: Math.round(tm.bench * 0.65 / 5) * 5, reps: '5+' }] }, { name: 'OHP (T2)', sets: '8 sets @ 50-70%' }] }, { day: 'Tuesday', focus: 'Squat/Sumo', exercises: [{ name: 'Squat (T1)', sets: [{ weight: Math.round(tm.squat * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.squat * 0.85 / 5) * 5, reps: 3 }, { weight: Math.round(tm.squat * 0.95 / 5) * 5, reps: '1+' }, { weight: Math.round(tm.squat * 0.90 / 5) * 5, reps: 3 }, { weight: Math.round(tm.squat * 0.85 / 5) * 5, reps: 3 }, { weight: Math.round(tm.squat * 0.80 / 5) * 5, reps: 3 }, { weight: Math.round(tm.squat * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.squat * 0.70 / 5) * 5, reps: 5 }, { weight: Math.round(tm.squat * 0.65 / 5) * 5, reps: '5+' }] }, { name: 'Sumo DL (T2)', sets: '8 sets @ 50-70%' }] }, { day: 'Wednesday', focus: 'OHP/Incline', exercises: [{ name: 'OHP (T1)', sets: [{ weight: Math.round(tm.ohp * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.ohp * 0.85 / 5) * 5, reps: 3 }, { weight: Math.round(tm.ohp * 0.95 / 5) * 5, reps: '1+' }, { weight: Math.round(tm.ohp * 0.90 / 5) * 5, reps: 3 }, { weight: Math.round(tm.ohp * 0.85 / 5) * 5, reps: 5 }, { weight: Math.round(tm.ohp * 0.80 / 5) * 5, reps: 3 }, { weight: Math.round(tm.ohp * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.ohp * 0.70 / 5) * 5, reps: 3 }, { weight: Math.round(tm.ohp * 0.65 / 5) * 5, reps: '5+' }] }, { name: 'Incline (T2)', sets: '8 sets @ 50-70%' }] }, { day: 'Thursday', focus: 'Deadlift/FS', exercises: [{ name: 'Deadlift (T1)', sets: [{ weight: Math.round(tm.deadlift * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.deadlift * 0.85 / 5) * 5, reps: 3 }, { weight: Math.round(tm.deadlift * 0.95 / 5) * 5, reps: '1+' }, { weight: Math.round(tm.deadlift * 0.90 / 5) * 5, reps: 3 }, { weight: Math.round(tm.deadlift * 0.85 / 5) * 5, reps: 3 }, { weight: Math.round(tm.deadlift * 0.80 / 5) * 5, reps: 3 }, { weight: Math.round(tm.deadlift * 0.75 / 5) * 5, reps: 3 }, { weight: Math.round(tm.deadlift * 0.70 / 5) * 5, reps: '3+' }] }, { name: 'Front Squat (T2)', sets: '5 sets @ 55-70%' }] }, { day: 'Friday', focus: 'Bench/CG', exercises: [{ name: 'Bench (T1)', sets: [{ weight: Math.round(tm.bench * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.bench * 0.825 / 5) * 5, reps: 3 }, { weight: Math.round(tm.bench * 0.90 / 5) * 5, reps: '1+' }, { weight: Math.round(tm.bench * 0.90 / 5) * 5, reps: 3 }, { weight: Math.round(tm.bench * 0.90 / 5) * 5, reps: 3 }, { weight: Math.round(tm.bench * 0.85 / 5) * 5, reps: 3 }, { weight: Math.round(tm.bench * 0.80 / 5) * 5, reps: 5 }, { weight: Math.round(tm.bench * 0.75 / 5) * 5, reps: 5 }, { weight: Math.round(tm.bench * 0.70 / 5) * 5, reps: '5+' }] }, { name: 'Close Grip (T2)', sets: '8 sets @ 50-65%' }] }]; } },
            'sl5x5': { name: 'StrongLifts 5√ó5', level: 'beginner', daysPerWeek: 3, cycleLength: '1 week', description: 'The quintessential beginner program. Simple, effective, builds foundation. Add 5 lbs every successful workout.', getWorkouts: (maxes) => { const w = { squat: Math.round(maxes.squat * 0.5 / 5) * 5, bench: Math.round(maxes.bench * 0.5 / 5) * 5, row: Math.round(maxes.bench * 0.5 / 5) * 5, ohp: Math.round(maxes.ohp * 0.5 / 5) * 5, deadlift: Math.round(maxes.deadlift * 0.5 / 5) * 5 }; return [{ day: 'Workout A', focus: 'Squat/Bench/Row', exercises: [{ name: 'Squat', sets: Array(5).fill({ weight: w.squat, reps: 5 }) }, { name: 'Bench Press', sets: Array(5).fill({ weight: w.bench, reps: 5 }) }, { name: 'Barbell Row', sets: Array(5).fill({ weight: w.row, reps: 5 }) }] }, { day: 'Workout B', focus: 'Squat/OHP/DL', exercises: [{ name: 'Squat', sets: Array(5).fill({ weight: w.squat, reps: 5 }) }, { name: 'Overhead Press', sets: Array(5).fill({ weight: w.ohp, reps: 5 }) }, { name: 'Deadlift', sets: [{ weight: w.deadlift, reps: 5 }] }] }]; } },
            'gzclp': { name: 'GZCLP', level: 'beginner', daysPerWeek: 4, cycleLength: '1 week', description: "Cody Lefever's beginner GZCL. Balances strength and hypertrophy with T1/T2/T3 exercise tiers.", getWorkouts: (maxes) => { const tm = { squat: Math.round(maxes.squat * 0.85 / 5) * 5, bench: Math.round(maxes.bench * 0.85 / 5) * 5, deadlift: Math.round(maxes.deadlift * 0.85 / 5) * 5, ohp: Math.round(maxes.ohp * 0.85 / 5) * 5 }; return [{ day: 'Day 1', focus: 'Squat/Bench', exercises: [{ name: 'Squat (T1)', sets: [{ weight: tm.squat, reps: 3 }, { weight: tm.squat, reps: 3 }, { weight: tm.squat, reps: 3 }, { weight: tm.squat, reps: 3 }, { weight: tm.squat, reps: '3+' }] }, { name: 'Bench (T2)', sets: [{ weight: Math.round(tm.bench * 0.65 / 5) * 5, reps: 10 }, { weight: Math.round(tm.bench * 0.65 / 5) * 5, reps: 10 }, { weight: Math.round(tm.bench * 0.65 / 5) * 5, reps: 10 }] }, { name: 'Lat Pulldown (T3)', sets: '3x15+' }] }, { day: 'Day 2', focus: 'OHP/Deadlift', exercises: [{ name: 'OHP (T1)', sets: [{ weight: tm.ohp, reps: 3 }, { weight: tm.ohp, reps: 3 }, { weight: tm.ohp, reps: 3 }, { weight: tm.ohp, reps: 3 }, { weight: tm.ohp, reps: '3+' }] }, { name: 'Deadlift (T2)', sets: [{ weight: Math.round(tm.deadlift * 0.65 / 5) * 5, reps: 10 }, { weight: Math.round(tm.deadlift * 0.65 / 5) * 5, reps: 10 }, { weight: Math.round(tm.deadlift * 0.65 / 5) * 5, reps: 10 }] }, { name: 'Dumbbell Row (T3)', sets: '3x15+' }] }, { day: 'Day 3', focus: 'Bench/Squat', exercises: [{ name: 'Bench (T1)', sets: [{ weight: tm.bench, reps: 3 }, { weight: tm.bench, reps: 3 }, { weight: tm.bench, reps: 3 }, { weight: tm.bench, reps: 3 }, { weight: tm.bench, reps: '3+' }] }, { name: 'Squat (T2)', sets: [{ weight: Math.round(tm.squat * 0.65 / 5) * 5, reps: 10 }, { weight: Math.round(tm.squat * 0.65 / 5) * 5, reps: 10 }, { weight: Math.round(tm.squat * 0.65 / 5) * 5, reps: 10 }] }, { name: 'Lat Pulldown (T3)', sets: '3x15+' }] }, { day: 'Day 4', focus: 'Deadlift/OHP', exercises: [{ name: 'Deadlift (T1)', sets: [{ weight: tm.deadlift, reps: 3 }, { weight: tm.deadlift, reps: 3 }, { weight: tm.deadlift, reps: 3 }, { weight: tm.deadlift, reps: 3 }, { weight: tm.deadlift, reps: '3+' }] }, { name: 'OHP (T2)', sets: [{ weight: Math.round(tm.ohp * 0.65 / 5) * 5, reps: 10 }, { weight: Math.round(tm.ohp * 0.65 / 5) * 5, reps: 10 }, { weight: Math.round(tm.ohp * 0.65 / 5) * 5, reps: 10 }] }, { name: 'Dumbbell Row (T3)', sets: '3x15+' }] }]; } },
            'texas': { name: 'Texas Method', level: 'intermediate', daysPerWeek: 3, cycleLength: '1 week', description: 'Volume day, recovery day, intensity day. Perfect for those who stalled on LP but want weekly PRs.', getWorkouts: (maxes) => { const w = { squat: Math.round(maxes.squat * 0.90 / 5) * 5, bench: Math.round(maxes.bench * 0.90 / 5) * 5, deadlift: Math.round(maxes.deadlift * 0.90 / 5) * 5 }; return [{ day: 'Monday', focus: 'Volume Day', exercises: [{ name: 'Squat', sets: Array(5).fill({ weight: Math.round(w.squat * 0.90 / 5) * 5, reps: 5 }) }, { name: 'Bench Press', sets: Array(5).fill({ weight: Math.round(w.bench * 0.90 / 5) * 5, reps: 5 }) }, { name: 'Barbell Row', sets: '3x5' }] }, { day: 'Wednesday', focus: 'Recovery Day', exercises: [{ name: 'Squat', sets: [{ weight: Math.round(w.squat * 0.80 / 5) * 5, reps: 5 }, { weight: Math.round(w.squat * 0.80 / 5) * 5, reps: 5 }] }, { name: 'Overhead Press', sets: [{ weight: Math.round(w.bench * 0.60 / 5) * 5, reps: 5 }, { weight: Math.round(w.bench * 0.60 / 5) * 5, reps: 5 }, { weight: Math.round(w.bench * 0.60 / 5) * 5, reps: 5 }] }, { name: 'Chin-ups', sets: '3x max' }, { name: 'Back Extensions', sets: '5x10' }] }, { day: 'Friday', focus: 'Intensity Day', exercises: [{ name: 'Squat', sets: [{ weight: w.squat, reps: 5 }] }, { name: 'Bench Press', sets: [{ weight: w.bench, reps: 5 }] }, { name: 'Deadlift', sets: [{ weight: w.deadlift, reps: 5 }] }] }]; } },
            'greyskull': { name: 'Greyskull LP', level: 'beginner', daysPerWeek: 3, cycleLength: '1 week', description: 'Linear progression with AMRAP final sets. Reset at 90% after stalls. Great for flexible beginners.', getWorkouts: (maxes) => { const w = { squat: Math.round(maxes.squat * 0.65 / 5) * 5, bench: Math.round(maxes.bench * 0.65 / 5) * 5, ohp: Math.round(maxes.ohp * 0.65 / 5) * 5, deadlift: Math.round(maxes.deadlift * 0.65 / 5) * 5 }; return [{ day: 'Day 1', focus: 'Bench/Squat', exercises: [{ name: 'Bench Press', sets: [{ weight: w.bench, reps: 5 }, { weight: w.bench, reps: 5 }, { weight: w.bench, reps: '5+' }] }, { name: 'Barbell Row', sets: [{ weight: w.bench, reps: 5 }, { weight: w.bench, reps: 5 }, { weight: w.bench, reps: '5+' }] }, { name: 'Squat', sets: [{ weight: w.squat, reps: 5 }, { weight: w.squat, reps: 5 }, { weight: w.squat, reps: '5+' }] }] }, { day: 'Day 2', focus: 'OHP/Deadlift', exercises: [{ name: 'Overhead Press', sets: [{ weight: w.ohp, reps: 5 }, { weight: w.ohp, reps: 5 }, { weight: w.ohp, reps: '5+' }] }, { name: 'Chin-ups', sets: [{ weight: 'BW', reps: 5 }, { weight: 'BW', reps: 5 }, { weight: 'BW', reps: '5+' }] }, { name: 'Deadlift', sets: [{ weight: w.deadlift, reps: '5+' }] }] }, { day: 'Day 3', focus: 'Bench/Squat', exercises: [{ name: 'Bench Press', sets: [{ weight: w.bench, reps: 5 }, { weight: w.bench, reps: 5 }, { weight: w.bench, reps: '5+' }] }, { name: 'Barbell Row', sets: [{ weight: w.bench, reps: 5 }, { weight: w.bench, reps: 5 }, { weight: w.bench, reps: '5+' }] }, { name: 'Squat', sets: [{ weight: w.squat, reps: 5 }, { weight: w.squat, reps: 5 }, { weight: w.squat, reps: '5+' }] }] }]; } }
        };
        function calculate1RM(weight, reps) { if (!weight || !reps || reps === 0) return 0; if (reps === 1) return weight; return Math.round(weight * (1 + reps / 30)); }
        function switchTab(tabId) { document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active')); document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active')); document.querySelectorAll('.mobile-nav-btn').forEach(t => t.classList.remove('active')); document.getElementById(tabId).classList.add('active'); document.querySelector(`.nav-tab[data-tab="${tabId}"]`)?.classList.add('active'); document.querySelector(`.mobile-nav-btn[data-tab="${tabId}"]`)?.classList.add('active'); if (tabId === 'workouts') renderWorkouts(); if (tabId === 'logs') renderLogs(); if (tabId === 'metrics') renderMetrics(); }
        function showToast(msg) { const t = document.getElementById('toast'); document.getElementById('toast-message').textContent = msg; t.classList.add('show'); setTimeout(() => t.classList.remove('show'), 3000); }
        function openModal(exercise = '', weight = '', reps = '') { document.getElementById('log-modal').classList.add('active'); if (exercise) document.getElementById('log-exercise').value = exercise; if (weight) document.getElementById('log-weight').value = weight; if (reps) document.getElementById('log-reps').value = reps; }
        function closeModal() { document.getElementById('log-modal').classList.remove('active'); document.getElementById('log-form').reset(); }
        function updateRM(lift) { const w = parseFloat(document.getElementById(`${lift}-weight`).value); const r = parseInt(document.getElementById(`${lift}-reps`).value); document.getElementById(`${lift}-1rm`).textContent = (w && r) ? `${calculate1RM(w, r)} lbs` : '‚Äî'; }
        function saveRepMaxes() { const lifts = ['squat', 'bench', 'deadlift', 'ohp']; const maxes = {}; let valid = true; lifts.forEach(l => { const w = parseFloat(document.getElementById(`${l}-weight`).value); const r = parseInt(document.getElementById(`${l}-reps`).value); if (!w || !r) valid = false; else maxes[l] = calculate1RM(w, r); }); if (!valid) { showToast('Please fill in all lifts'); return; } state.repMaxes = maxes; localStorage.setItem('ironRepMaxes', JSON.stringify(maxes)); showToast('1RMs saved!'); renderPrograms(); }
        function renderPrograms() { const g = document.getElementById('program-grid'); g.innerHTML = Object.entries(programs).map(([k, p]) => `<div class="program-card ${state.selectedProgram === k ? 'selected' : ''}" onclick="selectProgram('${k}')"><div class="program-header"><div class="program-name">${p.name}</div><div class="program-tag ${p.level}">${p.level}</div></div><p class="program-desc">${p.description}</p><div class="program-meta"><div class="program-meta-item"><span class="program-meta-label">Days/Week</span><span class="program-meta-value">${p.daysPerWeek}</span></div><div class="program-meta-item"><span class="program-meta-label">Cycle</span><span class="program-meta-value">${p.cycleLength}</span></div></div><button class="btn-select">${state.selectedProgram === k ? '‚úì Selected' : 'Select Program'}</button></div>`).join(''); }
        function selectProgram(key) { if (!state.repMaxes) { showToast('Please save your 1RMs first'); return; } state.selectedProgram = key; localStorage.setItem('ironSelectedProgram', key); renderPrograms(); showToast(`${programs[key].name} selected!`); setTimeout(() => switchTab('workouts'), 500); }
        function renderWorkouts() { const np = document.getElementById('no-program'); const ws = document.getElementById('workout-section'); if (!state.selectedProgram || !state.repMaxes) { np.style.display = 'block'; ws.style.display = 'none'; return; } np.style.display = 'none'; ws.style.display = 'block'; const p = programs[state.selectedProgram]; const workouts = p.getWorkouts(state.repMaxes, state.currentWeek); document.getElementById('program-banner').innerHTML = `<div class="current-program-info"><h3>Current Program</h3><div class="current-program-name">${p.name}</div></div><div class="training-maxes"><div class="tm-item"><div class="tm-lift">Squat TM</div><div class="tm-value">${Math.round(state.repMaxes.squat * 0.9)}</div></div><div class="tm-item"><div class="tm-lift">Bench TM</div><div class="tm-value">${Math.round(state.repMaxes.bench * 0.9)}</div></div><div class="tm-item"><div class="tm-lift">Deadlift TM</div><div class="tm-value">${Math.round(state.repMaxes.deadlift * 0.9)}</div></div><div class="tm-item"><div class="tm-lift">OHP TM</div><div class="tm-value">${Math.round(state.repMaxes.ohp * 0.9)}</div></div></div>`; if (state.selectedProgram === '531') { document.getElementById('week-selector-container').innerHTML = `<div class="week-selector"><button onclick="changeWeek(-1)">‚Üê Prev</button><span>Week ${state.currentWeek} of 4</span><button onclick="changeWeek(1)">Next ‚Üí</button></div>`; } else { document.getElementById('week-selector-container').innerHTML = ''; } document.getElementById('workout-days').innerHTML = workouts.map(w => `<div class="workout-day"><div class="workout-day-header"><div class="workout-day-name">${w.day}</div><div class="workout-day-focus">${w.focus}</div></div><div class="workout-exercises">${w.exercises.map(e => `<div class="exercise-row"><div class="exercise-name">${e.name}</div><div class="exercise-details">${Array.isArray(e.sets) ? e.sets.map(s => `<span class="exercise-weight">${s.weight}lbs √ó ${s.reps}</span>`).join('') : `<span class="exercise-sets">${e.sets}</span>`}</div></div>`).join('')}<button class="btn-log" onclick="openModal('${w.exercises[0].name}', '${Array.isArray(w.exercises[0].sets) ? w.exercises[0].sets[w.exercises[0].sets.length - 1].weight : ''}', '')">Log This Workout</button></div></div>`).join(''); }
        function changeWeek(delta) { state.currentWeek = Math.max(1, Math.min(4, state.currentWeek + delta)); localStorage.setItem('ironCurrentWeek', state.currentWeek); renderWorkouts(); }
        function submitLog(e) { e.preventDefault(); const log = { id: Date.now(), date: new Date().toISOString(), exercise: document.getElementById('log-exercise').value, weight: parseFloat(document.getElementById('log-weight').value), reps: parseInt(document.getElementById('log-reps').value), sets: parseInt(document.getElementById('log-sets').value), rpe: document.getElementById('log-rpe').value, notes: document.getElementById('log-notes').value }; state.workoutLogs.push(log); localStorage.setItem('ironWorkoutLogs', JSON.stringify(state.workoutLogs)); closeModal(); showToast('Workout logged!'); }
        function renderLogs() { const list = document.getElementById('logs-list'); const search = document.getElementById('search-logs').value.toLowerCase(); const filtered = state.workoutLogs.filter(l => l.exercise.toLowerCase().includes(search)).sort((a, b) => new Date(b.date) - new Date(a.date)); if (filtered.length === 0) { list.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üìù</div><h3>No Workouts Yet</h3><p>Start logging to see your history</p></div>'; return; } list.innerHTML = filtered.map(l => { const d = new Date(l.date); return `<div class="log-entry"><div class="log-date"><div class="log-date-day">${d.getDate()}</div><div class="log-date-month">${d.toLocaleString('default', { month: 'short' })}</div></div><div class="log-content"><h4>${l.exercise}</h4><div class="log-details"><span>üèãÔ∏è ${l.weight} lbs</span><span>üîÑ ${l.reps} √ó ${l.sets}</span><span>üìä ${(l.weight * l.reps * l.sets).toLocaleString()} lbs volume</span>${l.rpe ? `<span>üí™ RPE ${l.rpe}</span>` : ''}</div>${l.notes ? `<p style="margin-top: 8px; color: var(--text-muted); font-size: 13px;">${l.notes}</p>` : ''}</div><div class="log-actions"><button class="btn-icon delete" onclick="deleteLog(${l.id})">üóëÔ∏è</button></div></div>`; }).join(''); }
        function deleteLog(id) { if (confirm('Delete this workout?')) { state.workoutLogs = state.workoutLogs.filter(l => l.id !== id); localStorage.setItem('ironWorkoutLogs', JSON.stringify(state.workoutLogs)); renderLogs(); renderMetrics(); showToast('Workout deleted'); } }
        function renderMetrics() { const sg = document.getElementById('stats-grid'); const em = document.getElementById('exercise-metrics'); if (state.workoutLogs.length === 0) { sg.innerHTML = '<div class="empty-state" style="grid-column: 1/-1;"><div class="empty-state-icon">üìä</div><h3>No Data Yet</h3><p>Log workouts to see your metrics</p></div>'; em.innerHTML = ''; return; } const totalVolume = state.workoutLogs.reduce((s, l) => s + (l.weight * l.reps * l.sets), 0); const totalSets = state.workoutLogs.reduce((s, l) => s + l.sets, 0); const exercises = {}; state.workoutLogs.forEach(l => { if (!exercises[l.exercise]) exercises[l.exercise] = []; exercises[l.exercise].push(l); }); sg.innerHTML = `<div class="stat-card"><div class="stat-icon">üèãÔ∏è</div><div class="stat-value">${state.workoutLogs.length}</div><div class="stat-label">Workouts Logged</div></div><div class="stat-card"><div class="stat-icon">üìä</div><div class="stat-value">${(totalVolume / 1000).toFixed(0)}k</div><div class="stat-label">Total Volume (lbs)</div></div><div class="stat-card"><div class="stat-icon">üîÑ</div><div class="stat-value">${totalSets}</div><div class="stat-label">Total Sets</div></div><div class="stat-card"><div class="stat-icon">üí™</div><div class="stat-value">${Object.keys(exercises).length}</div><div class="stat-label">Exercises Tracked</div></div>`; em.innerHTML = Object.entries(exercises).map(([name, logs]) => { const maxWeight = Math.max(...logs.map(l => l.weight)); const totalVol = logs.reduce((s, l) => s + (l.weight * l.reps * l.sets), 0); const avgWeight = Math.round(logs.reduce((s, l) => s + l.weight, 0) / logs.length); const totalReps = logs.reduce((s, l) => s + (l.reps * l.sets), 0); return `<div class="exercise-metrics"><h4>üí™ ${name}</h4><div class="metrics-grid"><div class="metric-box"><div class="metric-value">${maxWeight}</div><div class="metric-label">Max Weight</div></div><div class="metric-box"><div class="metric-value">${avgWeight}</div><div class="metric-label">Avg Weight</div></div><div class="metric-box"><div class="metric-value">${(totalVol / 1000).toFixed(1)}k</div><div class="metric-label">Total Volume</div></div><div class="metric-box"><div class="metric-value">${totalReps}</div><div class="metric-label">Total Reps</div></div></div></div>`; }).join(''); }
        document.querySelectorAll('.nav-tab, .mobile-nav-btn').forEach(btn => { btn.addEventListener('click', () => switchTab(btn.dataset.tab)); });
        renderPrograms();
    </script>
</body>
</html>
